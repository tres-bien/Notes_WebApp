@page "/searchdropdown"

<div class="dropdown">
    <button class="dropdown-toggle" @onclick="ToggleDropdown">@selectedOption</button>
    <ul class="dropdown-menu" @style="displayStyle">
        @foreach (var option in options)
        {
            <li><a @onclick="() => SelectOption(option)">@option</a></li>
        }
    </ul>
</div>

@code {
    private List<string> options = new List<string> { "Search by Title", "Search by Content" };
    private string selectedOption = "Search by Title";
    private bool isDropdownOpen = false;
    private string displayStyle = "display: none;";

    private void ToggleDropdown()
    {
        isDropdownOpen = !isDropdownOpen;
        displayStyle = isDropdownOpen ? "display: block;" : "display: none;";
    }

    private void SelectOption(string option)
    {
        selectedOption = option;
        ToggleDropdown();

        // Notify the parent component (e.g., the search component) of the selected option
        OnOptionSelected?.Invoke(selectedOption);
    }

    [Parameter]
    public Action<string> OnOptionSelected { get; set; }
}